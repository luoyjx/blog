---
slug: 53d994753cff58870566e9b6
title: linux下使用upstart配置node 应用作为服务启动，异常停止自动重启
tags: [node.js ,upstart ,linux]
---

 &nbsp; &nbsp; &nbsp; &nbsp;同理 redis 。 

&nbsp; &nbsp; &nbsp; &nbsp;http://blog.gaoqixhb.com/p/53d993623cff58870566e9b5 

 &nbsp; &nbsp; &nbsp; &nbsp;vim /etc/init/nodeapp.conf

 &nbsp; &nbsp; &nbsp; &nbsp;================ 脚本开始 ====================

 &nbsp; &nbsp; &nbsp; &nbsp;description "nodeapp"

 author "yjx email:yjk99@qq.com"

 &nbsp;

 start on startup

 stop on shutdown

 &nbsp;

 respawn

 &nbsp;

 script

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logger "server listen 3000"

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #node 先切换到项目根目录，再启动程序，不然 node 项目的根目录不在所在的项目根路径

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd /usr/src/monitor-net&nbsp;

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exec /usr/local/bin/node boot.js

 end script

 &nbsp;

 pre-start script

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "Server starting..."

 end script

 &nbsp;

 pre-stop script

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "Server is stopping..."

 end script

 &nbsp; &nbsp; &nbsp; &nbsp;=================== 脚本结束 =====================


